# üè† Indoor Positioning System

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ WiFi —Ç—Ä–∏–ª–∞—Ç–µ—Ä–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ESP32 –º–æ–¥—É–ª–µ–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ —è–∫–æ—Ä–µ–π.

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ESP32 —è–∫–æ—Ä–µ–π](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-esp32-—è–∫–æ—Ä–µ–π)
- [–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã](#–∑–∞–ø—É—Å–∫-—Å–∏—Å—Ç–µ–º—ã)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [API endpoints](#api-endpoints)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–¥–µ—Ç–∞–ª–∏)
- [–ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è](#–ø–ª–∞–Ω—ã-—Ä–∞–∑–≤–∏—Ç–∏—è)

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –ø–æ–º–æ—â—å—é —Ç—Ä–∏–ª–∞—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º WiFi. ESP32 –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —è–∫–æ—Ä—è, –∏–∑–º–µ—Ä—è—è RSSI (—Å–∏–ª—É —Å–∏–≥–Ω–∞–ª–∞) —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—è –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø–æ–∑–∏—Ü–∏–π.

–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- üìç –¢–æ—á–Ω–æ–µ 3D –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏
- üì± –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö WiFi —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üéØ –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π
- üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–µ
- üîß –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

![–î–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã](C:\Users\ForMi\OneDrive\Desktop\CyberGarden_2025\indoor_positioning\server\media\–î–∏–∞–≥—Ä–∞–º–º–∞.png)

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

- 4√ó ESP32 –º–æ–¥—É–ª—è (NodeMCU, Wemos D1, etc.)
- –ù–æ—É—Ç–±—É–∫/–ü–ö —Å WiFi –∞–¥–∞–ø—Ç–µ—Ä–æ–º
- USB –∫–∞–±–µ–ª–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è ESP32
- –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

- Python 3.8+
- Arduino IDE –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏ ESP32
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ ESP32: WiFi, WebServer, HTTPClient

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd indoor-positioning

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
```

**requirements.txt**:

```
flask==2.3.3
flask-socketio==5.3.6
numpy==1.24.3
python-engineio==4.7.1
python-socketio==5.8.0
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HotSpot –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–î–ª—è Windows**:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ HotSpot
netsh wlan set hostednetwork mode=allow ssid=DESKTOP-JVL1750 key=^74b470T
netsh wlan start hostednetwork

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
netsh wlan show hostednetwork
```

**–î–ª—è Linux**:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ HotSpot
sudo create_ap wlan0 eth0 "DESKTOP-JVL1750" "^74b470T"
```

**–í–∞–∂–Ω–æ**: HotSpot –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–µ–Ω –¥–æ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã, —Ç–∞–∫ –∫–∞–∫ ESP32 –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ –Ω–µ–º—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

## üì° –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ESP32 —è–∫–æ—Ä–µ–π

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Arduino IDE

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —á–µ—Ä–µ–∑ Library Manager:

- WiFi (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è)
- WebServer (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è)
- HTTPClient (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è)

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —è–∫–æ—Ä–µ–π

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è 4 —Ñ–∞–π–ª–∞ –ø—Ä–æ—à–∏–≤–∫–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏:

| –§–∞–π–ª     | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                 |
| ------------ | -------------------- | ------------------------------------ |
| anchor_1.ino | (0, 0, 2.5)          | –õ–µ–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª     |
| anchor_2.ino | (20, 0, 2.5)         | –ü—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª   |
| anchor_3.ino | (20, 15, 2.5)        | –ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª |
| anchor_4.ino | (0, 15, 1.0)         | –õ–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª   |

### 3. –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .ino —Ñ–∞–π–ª–∞—Ö

```cpp
// –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –°–ï–¢–ò
const char* ssid = "INDOOR_POSITIONING";        // SSID —Å–µ—Ç–∏ —è–∫–æ—Ä–µ–π
const char* password = "12345678";              // –ü–∞—Ä–æ–ª—å —Å–µ—Ç–∏ —è–∫–æ—Ä–µ–π

// –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –°–ï–†–í–ï–†–ê
const char* serverURL = "http://192.168.0.244:5000"; // IP –Ω–æ—É—Ç–±—É–∫–∞

// –ö–û–û–†–î–ò–ù–ê–¢–´ –Ø–ö–û–†–Ø (—É–Ω–∏–∫–∞–ª—å–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ)
float anchor_x = 0.0;    // X –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞
float anchor_y = 0.0;    // Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞
float anchor_z = 2.5;    // Z –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ (–≤—ã—Å–æ—Ç–∞)
String anchor_id = "–Ø–∫–æ—Ä—å_1"; // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID

// –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö HOTSPOT
const char* wifi_ssid = "DESKTOP-JVL1750"; // SSID HotSpot
const char* wifi_password = "^74b470T";    // –ü–∞—Ä–æ–ª—å HotSpot
```

### 4. –ü—Ä–æ—à–∏–≤–∫–∞ ESP32

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∫–æ—Ä—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π .ino —Ñ–∞–π–ª –≤ Arduino IDE
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ ESP32 –ø–æ USB
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç –∏ –ø–ª–∞—Ç—É (ESP32 Dev Module)
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ—à–∏–≤–∫—É
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –≤—Å–µ—Ö 4 —è–∫–æ—Ä–µ–π

## üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

### 1. –ó–∞–ø—É—Å–∫ HotSpot (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

**Windows**:

```bash
netsh wlan start hostednetwork
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ IP –∞–¥—Ä–µ—Å–∞ –Ω–æ—É—Ç–±—É–∫–∞ –≤ —Å–µ—Ç–∏ HotSpot**:

```bash
ipconfig
```

### 2. –ó–∞–ø—É—Å–∫ Flask —Å–µ—Ä–≤–µ—Ä–∞

```bash
python main.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥**:

```
üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏...
üì° –û–∂–∏–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç ESP32 —è–∫–æ—Ä–µ–π...
üìç –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://localhost:5000
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —è–∫–æ—Ä–µ–π

–í –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:

```
üì® –î–∞–Ω–Ω—ã–µ –æ—Ç –Ø–∫–æ—Ä—å_1: 3 –∏–∑–º–µ—Ä–µ–Ω–∏–π
üì® –î–∞–Ω–Ω—ã–µ –æ—Ç –Ø–∫–æ—Ä—å_2: 2 –∏–∑–º–µ—Ä–µ–Ω–∏–π
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ —è–∫–æ—Ä—è: 4
```

## üñ• –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: [http://localhost:5000](http://localhost:5000)

**–û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**:

- üìä **–°—Ç–∞—Ç—É—Å –ø–∞–Ω–µ–ª—å** - –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–∫–æ—Ä–µ–π –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üìç **–ö–∞—Ä—Ç–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** - —Ä–µ–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
- üì° **–°—Ç–∞—Ç—É—Å —è–∫–æ—Ä–µ–π** - —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö ESP32 –º–æ–¥—É–ª–µ–π
- üì± **–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** - —Å–ø–∏—Å–æ–∫ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üéØ **–î–µ—Ç–∞–ª–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- üìã **–°–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥** - –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π —Å–∏—Å—Ç–µ–º—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

- üîÑ **–°–±—Ä–æ—Å–∏—Ç—å —Å–∏—Å—Ç–µ–º—É** - –æ—á–∏—â–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
- üîÅ **–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- üëÅ **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫—Ä—É–≥–æ–≤ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- üì° **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —è–∫–æ—Ä—è** - —Å–∫—Ä—ã—Ç—å/–ø–æ–∫–∞–∑–∞—Ç—å ESP32 –Ω–∞ –∫–∞—Ä—Ç–µ

## üåê API Endpoints

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

| Endpoint       | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ                                    |
| -------------- | ---------- | --------------------------------------------------- |
| /api/status    | GET        | –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| /api/anchors   | GET        | –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —è–∫–æ—Ä–µ–π          |
| /api/devices   | GET        | –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞       |
| /api/positions | GET        | –†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏             |

### –ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –æ—Ç —è–∫–æ—Ä–µ–π

| Endpoint         | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ                                      |
| ---------------- | ---------- | ----------------------------------------------------- |
| /api/anchor_data | POST       | –ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –∏–∑–º–µ—Ä–µ–Ω–∏–π –æ—Ç ESP32 |

**–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –æ—Ç —è–∫–æ—Ä—è**:

```json
{
  "anchor_id": "–Ø–∫–æ—Ä—å_1",
  "x": 0.0,
  "y": 0.0,
  "z": 2.5,
  "measurements": [
    {
      "mac": "AA:BB:CC:DD:EE:FF",
      "rssi": -45,
      "distance": 1.2
    }
  ]
}
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

### –ü—Ä–æ–±–ª–µ–º–∞: ESP32 –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ HotSpot

**–†–µ—à–µ–Ω–∏–µ**:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ HotSpot: `netsh wlan show hostednetwork`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SSID –∏ –ø–∞—Ä–æ–ª—å –≤ –∫–æ–¥–µ ESP32 —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ HotSpot
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–æ—É—Ç–±—É–∫ —Ä–∞–∑–¥–∞–µ—Ç WiFi –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 2.4GHz

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–†–µ—à–µ–Ω–∏–µ**:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –≤ `serverURL` –≤ –∫–æ–¥–µ ESP32
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –ø–æ—Ä—Ç 5000
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Flask —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ —Å–ª—É—à–∞–µ—Ç –Ω–∞ `0.0.0.0`

### –ü—Ä–æ–±–ª–µ–º–∞: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ WiFi –≤–∫–ª—é—á–µ–Ω –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∑–æ–Ω–µ –ø–æ–∫—Ä—ã—Ç–∏—è —è–∫–æ—Ä–µ–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ESP32 —Å–∫–∞–Ω–∏—Ä—É—é—Ç WiFi —Å–µ—Ç–∏ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Serial Monitor)

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–∑–∏—Ü–∏–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–†–µ—à–µ–Ω–∏–µ**:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —è–∫–æ—Ä–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ 4 —è–∫–æ—Ä—è –∞–∫—Ç–∏–≤–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫—É —Ñ–æ—Ä–º—É–ª—ã RSSI‚Üí—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–æ–¥–µ ESP32

## üî¨ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 3D —Ç—Ä–∏–ª–∞—Ç–µ—Ä–∞—Ü–∏—é —Å fallback –Ω–∞ 2D –º–µ—Ç–æ–¥—ã:

1. **3D —Ç—Ä–∏–ª–∞—Ç–µ—Ä–∞—Ü–∏—è** - –∫–æ–≥–¥–∞ —è–∫–æ—Ä—è –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –≤—ã—Å–æ—Ç—ã
2. **2D+ —Ç—Ä–∏–ª–∞—Ç–µ—Ä–∞—Ü–∏—è** - –∫–æ–≥–¥–∞ —è–∫–æ—Ä—è –Ω–∞ –æ–¥–Ω–æ–π –≤—ã—Å–æ—Ç–µ (—Å –æ—Ü–µ–Ω–∫–æ–π Z)
3. **–ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥** - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç –∫–∞–∫ fallback

### –§–æ—Ä–º—É–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è RSSI –≤ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ

```cpp
float calculateDistance(int rssi) {
  float n = 2.5;    // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞—Ç—É—Ö–∞–Ω–∏—è
  float A = -45;    // RSSI –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 1 –º–µ—Ç—Ä
  
  if (rssi >= A) return 0.1;
  
  float distance = pow(10, (A - rssi) / (10 * n));
  
  // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
  if (distance > 20.0) distance = 20.0;
  if (distance < 0.1) distance = 0.1;
  
  return distance;
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

**–Ø–∫–æ—Ä—è (anchors)**:

```json
{
  "–Ø–∫–æ—Ä—å_1": {
    "x": 0.0,
    "y": 0.0,
    "z": 2.5,
    "last_update": "2024-01-15T10:30:00",
    "status": "active"
  }
}
```

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (devices)**:

```json
{
  "AA:BB:CC:DD:EE:FF": {
    "mac": "AA:BB:CC:DD:EE:FF",
    "first_seen": "2024-01-15T10:30:00",
    "type": "mobile_device",
    "color": "#a1b2c3"
  }
}
```

**–ü–æ–∑–∏—Ü–∏–∏ (positions)**:

```json
{
  "AA:BB:CC:DD:EE:FF": {
    "position": {"x": 5.2, "y": 3.1, "z": 1.5},
    "timestamp": "2024-01-15T10:30:00",
    "confidence": 0.85,
    "anchors_used": 4,
    "type": "mobile_device"
  }
}
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Flask —Å–µ—Ä–≤–µ—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ ESP32 —á–µ—Ä–µ–∑ Serial Monitor (115200 baud)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∞–∫—Ç–∏–≤–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—Å–µ–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

**–í–∞–∂–Ω–æ**: –î–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞–∫ –º–∏–Ω–∏–º—É–º 3 –∞–∫—Ç–∏–≤–Ω—ã—Ö —è–∫–æ—Ä—è –≤ –∑–æ–Ω–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

## üöÄ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### üî• –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

1. **–£–ª—É—á—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**:
   - –ö–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ RSSI‚Üí—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
   - –§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞ –¥–ª—è —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π
2. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**:
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ (–≥—Ä–∞—Ñ–∏–∫–∏ RSSI –∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)
   - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É —è–∫–æ—Ä—é
   - –°–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
3. **–£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**:
   - 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
   - –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤
   - –ó–æ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å–∞ (—Ä–∞–±–æ—á–∏–µ –∏ –æ–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã)

### ‚ö°Ô∏è –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

4. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞**:
   - –†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
   - –ì—Ä—É–ø–ø—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –≥–æ—Å—Ç–∏)
   - –ì–µ–æ–∑–æ–Ω—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**:
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è WebSocket
   - –°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö JSON

### üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

6. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å**:
   - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç —è–∫–æ—Ä–µ–π
   - –ê–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–±–æ—è—Ö
7. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∞**:
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (Swagger/OpenAPI)
   - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV/JSON
   - –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### üìã –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ 24 —á–∞—Å–∞

1. ‚úÖ –í—ã–Ω–æ—Å –ª–æ–≥–∏–∫–∏ —Ç—Ä–∏–ª–∞—Ç–µ—Ä–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å *(–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)*
2. üîú –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞ –ö–∞–ª–º–∞–Ω–∞ –¥–ª—è —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π
3. üîú –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏
4. üîú –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π –Ω–∞ –∫–∞—Ä—Ç–µ
5. üîú –°–∏—Å—Ç–µ–º–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —è–∫–æ—Ä—è–º–∏

### üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **–¢–æ—á–Ω–æ—Å—Ç—å**: –°–Ω–∏–∂–µ–Ω–∏–µ –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ –Ω–∞ 30-40%
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø–æ—Ç–µ—Ä—è–º —Å–≤—è–∑–∏
- **–£–¥–æ–±—Å—Ç–≤–æ**: –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: –£—Ä–æ–≤–µ–Ω—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 24 —á–∞—Å–∞ —Å –º–æ–º–µ–Ω—Ç–∞ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç
